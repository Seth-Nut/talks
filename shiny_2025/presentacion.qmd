---
title: "From Data to Narrative"
subtitle: "Interactive Storytelling with Shiny"
author: 
  - Francisco Alfaro
date: 09 Apr 2025
format: 
  revealjs:
    transition: slide
    title-slide-attributes: 
      data-background-image: images/background.jpg
    logo: images/shiny_2025.png
filters:
  - quarto-ext/shinylive

---

## Agenda {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column .incremental width="30%"}
-   

-   No

-   Nope

-   Jam√°s
:::

::: {.column .fragment width="70%"}
<img src="images/neg.png" alt="Tachado" style="width: 50%; height: auto;"/>
:::
:::

------------------------------------------------------------------------

##  {background-image="images/background.jpg" background-opacity="0.25"}

::: {style="display: flex; justify-content: center; align-items: center; height: 60vh; flex-direction: column; text-align: center;"}
::: callout-note
## Regla de Storytelling #1

Nunca reveles el final antes de tiempo.\
[Siempre eleva la tensi√≥n y el dramatismo]{.fragment}
:::
:::

------------------------------------------------------------------------

## Agenda (v2) {background-image="images/background.jpg" background-opacity="0.25"}

::: incremental
1.  Nunca reveles el [final]{style="background-color:black;"}
2.  Los detalles son importantes, pero [no **todos** los detalles son importantes.]{style="background-color:black;"}
3.  Tu primera versi√≥n ser√° [horrible.]{style="background-color:black;"}
4.  Muestra, no [cuentes.]{style="background-color:black;"}
:::

------------------------------------------------------------------------

##  {background-image="images/background_slides3.png" background-opacity="0.3"}

::: {style="display: flex; justify-content: center; align-items: center; height: 60vh; flex-direction: column; text-align: center;"}
[Data Storytelling]{style="font-size: 1em"}

[¬øPor qu√© Data Storytelling?]{style="font-size: 1.5em"}
:::

------------------------------------------------------------------------

## ¬øQu√© es el Storytelling? {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="50%"}
![](images/cave.jpg){fig-align="center" width="90%"}
:::

::: {.column .fragment width="50%"}
![](images/fire.jpg){fig-align="center" width="100%"}
:::
:::

. . .

::: {style="text-align: center; "}
üî• Las **historias** son la primera tecnolog√≠a humana
:::

------------------------------------------------------------------------

## Esos cerebros tan hackables... {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="50%"}
![](images/storytelling/sketplanation.png){fig-align="center" width="90%"}\
*Regla del m√°ximo y final (Peak-End Rule)*
:::

::: {.column .fragment width="50%"}
![](images/storytelling/got.jpg){fig-align="center" width="100%"}\
*Rating de Game of Thrones, por Kelvin Neo*
:::
:::

------------------------------------------------------------------------

## Narrativa {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="60%"}
<br><br> Usar **trucos** de Storytelling (narrativa) para crear presentaciones que ser√°n **recordadas** y que causar√°n **impacto**
:::

::: {.column .fragment width="40%"}
![](images/emotions.png){fig-align="center"}
:::
:::

. . .

::: {style="text-align: center;"}
üé≠ Las **emociones** generan acciones
:::

------------------------------------------------------------------------

## El mejor ejemplo {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column .fragment width="30%" fragment-index="1"}
![](images/storytelling/spotify1.jpeg){fig-align="center"}
:::

::: {.column .center width="40%"}
<br><br> ¬øPodemos hacer que millones de personas compartan estad√≠sticas en redes sociales?
:::

::: {.column .fragment width="30%" fragment-index="1"}
![](images/storytelling/spotify2.jpeg){fig-align="center"}
:::
:::

------------------------------------------------------------------------

##  {background-image="images/background.jpg" background-opacity="0.25"}

::: {style="display: flex; justify-content: center; align-items: center; height: 60vh; flex-direction: column; text-align: center;"}
::: callout-note
## Regla de Storytelling #2

Los detalles son importantes, [pero no **todos** los detalles son importantes.]{.fragment}
:::
:::

------------------------------------------------------------------------

## Ejemplos {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="50%"}
![](images/dst_before.png){fig-align="center"} *üî¢ No compartas n√∫meros*
:::

::: {.column .fragment width="50%"}
![](images/dst_after.png){fig-align="center"} *ü™∂Comparte una historia*
:::
:::

. . .

<br><br> [(C) Storytelling with Data, por Cole Nussbaumer Knaflic.]{style="font-size: 0.75em; color: gray"}

------------------------------------------------------------------------

##  {background-image="images/background.jpg" background-opacity="0.25"}

::: {style="display: flex; justify-content: center; align-items: center; height: 60vh; flex-direction: column; text-align: center;"}
::: callout-note
## Regla de Storytelling #3

Tu primera versi√≥n **siempre** ser√° horrible.
:::
:::

------------------------------------------------------------------------

## Ejemplos {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="50%"}
![](images/gh_before.png){fig-align="center"}
:::

::: {.column .fragment width="50%"}
![](images/gh_after.png){fig-align="center"}
:::
:::

. . .

::: {style="text-align: center;"}
ü•± 1¬∞ versi√≥n $<$ ... $<$ üòä √∫ltima versi√≥n
:::

------------------------------------------------------------------------

## Usar chatbots de IA para: {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="65%"}
<br>

-   Plantillas personalizadas a medida
-   Automatizar estructura del contenido
-   Ahorro de tiempo en dise√±o
-   Adaptaci√≥n al estilo y preferencias
:::

::: {.column .fragment width="35%"}
![](images/ai/template.png){fig-align="center"}
:::
:::

------------------------------------------------------------------------

## üí° Chatbots A.I. - Ideas {background-image="images/background.jpg" background-opacity="0.25"}


::: columns
::: {.column width="60%"}
<br>

-   [ChatGPT (OpenAI)](https://openai.com/chatgpt/)
-   [Gemini (Google DeepMind)](https://deepmind.google/gemini/)
-   [Meta AI (Meta)](https://ai.meta.com/)
-   [DeepSeek (DeepSeek)](https://chat.deepseek.com/)
:::

::: {.column  width="40%"}
<img src="images/ai/ai_ideas.png" alt="Asistentes Virtuales" style="width: 100%; border-radius: 10px;"/>
:::
:::

------------------------------------------------------------------------

## Usar chatbots de IA para: {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="60%"}
<br>

-   Analog√≠as y ejemplos
-   Mejores traducciones
-   Prompts para crear im√°genes
-   No busques im√°genes, cr√©alas!
:::

::: {.column .fragment width="40%"}
![](images/ai/choice.jpeg){fig-align="center"}
:::
:::

------------------------------------------------------------------------


## üí° Chatbots A.I. - Im√°genes {background-image="images/background.jpg" background-opacity="0.25"}


::: columns
::: {.column width="60%"}

<br>

- [Canva con Magic Studio](https://www.canva.com/magic/)
- [Microsoft Designer](https://designer.microsoft.com/)
- [Napkin AI](https://www.napkin.one/)
- [Midjourney](https://www.midjourney.com/)
:::

::: {.column  width="40%"}
<img src="images/ai/ai_images.png" alt="Asistentes Virtuales" style="width: 100%; border-radius: 10px;"/>
:::
:::


------------------------------------------------------------------------

##  {background-image="images/background.jpg" background-opacity="0.25"}

::: {style="display: flex; justify-content: center; align-items: center; height: 60vh; flex-direction: column; text-align: center;"}
::: callout-note
## Regla de Storytelling #4

[Explicar menos]{style="color: red"} y [mostrar m√°s]{style="color: green"}
:::
:::

------------------------------------------------------------------------

## [Explicar menos]{style="color: red"} y [mostrar m√°s]{style="color: green"} {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="50%"}
<br>

``` python
import matplotlib.pyplot as plt

# Data
categories = ['Yes', 'No']
values = [75, 25]

# Create the bar chart
plt.figure(figsize=(10, 4))
plt.bar(categories, values, color=['lightblue', 'salmon'])
plt.title('üòä Do you like the presentation so far? üòä')

# Display the plot
plt.show()
```
:::

::: {.column .fragment width="50%"}
<br>

```{python}
import matplotlib.pyplot as plt

# Data
categories = ['Yes', 'No']
values = [75, 25]

# Create the bar chart
plt.figure(figsize=(10, 4))
plt.bar(categories, values, color=['lightblue', 'salmon'])
plt.title('üòä Do you like the presentation so far? üòä')

# Display the plot
plt.show()
```
:::
:::

------------------------------------------------------------------------

## [Explicar menos]{style="color: red"} y [mostrar m√°s]{style="color: green"} {background-image="images/background.jpg" background-opacity="0.25"}

```{pyodide-python}
import matplotlib.pyplot as plt
categories = ['Yes', 'No']
values = [75, 25]
plt.figure(figsize=(10, 3))
plt.bar(categories, values, color=['lightblue', 'salmon'])
plt.title('üòä Do you like the presentation so far? üòä')
plt.show()
```

------------------------------------------------------------------------

## [Explicar menos]{style="color: red"} y [mostrar m√°s]{style="color: green"} {background-image="images/background.jpg" background-opacity="0.25"}

```{shinylive-python}
#| standalone: true
#| viewerHeight: 550

from shiny import App, ui, render, reactive
import matplotlib.pyplot as plt
import io
import base64

# Function to generate the plot dynamically based on input values
def create_plot(yes_value, no_value):
    categories = ['Yes', 'No']
    values = [yes_value, no_value]

    fig, ax = plt.subplots(figsize=(10, 3))
    ax.bar(categories, values, color=['lightblue', 'salmon'])
    ax.set_title('üòä Do you like the presentation so far? üòä')

    # Convert the image to base64 for display in Shiny
    buf = io.BytesIO()
    plt.savefig(buf, format="png")
    plt.close(fig)
    buf.seek(0)
    encoded_image = base64.b64encode(buf.getvalue()).decode()
    return f'<img src="data:image/png;base64,{encoded_image}" style="max-width:100%;">'

# UI definition
app_ui = ui.page_fluid(
    ui.h2("Interactive Survey"),
    
    # Sliders to change values dynamically
    ui.input_slider("yes_value", "Yes responses:", min=0, max=50, value=20),
    ui.input_slider("no_value", "No responses:", min=0, max=50, value=10),
    
    # Output area for the plot
    ui.output_ui("plot_output")
)

# Server function
def server(input, output, session):
    @output
    @render.ui
    def plot_output():
        return ui.HTML(create_plot(input.yes_value(), input.no_value()))

# Create the Shiny app
app = App(app_ui, server)

```

------------------------------------------------------------------------

## Agenda (v2) {background-image="images/background.jpg" background-opacity="0.25"}

::: incremental
1.  Nunca reveles el [**final**]{.fragment style="color:grey;"}
2.  Los detalles son importantes, pero [no **todos** los detalles son importantes]{.fragment style="color:grey;"}
3.  Tu primera versi√≥n ser√° [**horrible**]{.fragment style="color:grey;"}
4.  Muestra, no [**cuentes**]{.fragment style="color:grey;"}
:::

::: notes
Opci√≥n 2: Una agenda misteriosa.
:::

------------------------------------------------------------------------


##  {background-image="images/background_slides3.png" background-opacity="0.3"}

::: {style="display: flex; justify-content: center; align-items: center; height: 60vh; flex-direction: column; text-align: center;"}
[Herramientas]{style="font-size: 1em"}

[Herramientas de Visualizaci√≥n]{style="font-size: 2em"}
:::

## Herramientas para presentaci√≥n {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="60%"}
-   **Cl√°sica**: PowerPoint
-   **"Show don't tell"**:
    -   Quarto
-   **Otros**: Canvas, Revealjs, Prezi
:::

::: {.column width="40%"}
![](images/presentacion2.png){fig-align="center"}
:::
:::

------------------------------------------------------------------------

## Quarto {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="60%"}
<br>

Un sistema abierto para publicaciones cient√≠ficas con markdown y c√≥digo interactivo (Python/R).
:::

::: {.column width="40%"}
![](images/quarto/quarto2.png)
:::
:::

------------------------------------------------------------------------

##  {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="40%"}
[C√≥digo: example.qmd]{style="font-size: 0.5em; color: gray"}

```         
---
title: "Habits"
author: "John Doe"
format:
  revealjs:
    transition: fade
    theme: black
    toc: true
    center: true
---

## Getting up

- Turn off alarm
- Get out of bed

---

## Going to sleep 
::: { .incremental }

- Get in bed
- Count sheep

:::
```
:::

::: {.column width="60%"}
[Slides: example.html]{style="font-size: 0.5em; color: gray"}

```{=html}
<iframe width=600 height=400 src="images/quarto/quarto_min.html"></iframe>
```
:::
:::


------------------------------------------------------------------------

## Quarto Extensiones {background-image="images/background.jpg" background-opacity="0.25"}

<br>

Las extensiones son una herramienta poderosa para modificar y ampliar el comportamiento de Quarto.

::: {style="text-align: center;"}
<img src="images/quarto/quarto-extensions.png" alt="Tachado" style="width: 70%; border-radius: 10px;"/>
:::

------------------------------------------------------------------------

## üåê Quarto WebR y Quarto Pyodide {background-image="images/background.jpg" background-opacity="0.25"}

<br>

1.  [WebR](https://docs.r-wasm.org/webr/latest/): Ejecuta c√≥digo R en el navegador, sin instalaciones.

    ``` bash
    # Para instalar WebR en tu entorno
    remotes::install_github("attiyap/WebR")
    ```

2.  [Pyodide](https://quarto.thecoatlessprofessor.com/pyodide/) : Idem pero para Python.

    ``` bash
    # Para instalar Pyodide
    pip install pyodide
    ```

------------------------------------------------------------------------


## üìä Ejemplo R {background-image="images/background.jpg" background-opacity="0.25"}

```{webr-r}
x <- c(1, 2, 3, 4, 5)
y <- c(2, 4, 6, 8, 10)
plot(x, y, type="o", col="blue", lty=1, xlab="", ylab="")
title(main="Gr√°fico Sencillo en R")
```

------------------------------------------------------------------------


## üìä Ejemplo R {background-image="images/background.jpg" background-opacity="0.25"}


::: columns
::: {.column width="40%"}



```

'''{webr-r}
x <- c(1, 2, 3, 4, 5)
y <- c(2, 4, 6, 8, 10)
plot(x, y, type="o", col="blue", lty=1, xlab="", ylab="")
title(main="Gr√°fico Sencillo en R")
'''

```

:::

::: {.column width="60%"}
```{webr-r}
x <- c(1, 2, 3, 4, 5)
y <- c(2, 4, 6, 8, 10)
plot(x, y, type="o", col="blue", lty=1, xlab="", ylab="")
title(main="Gr√°fico Sencillo en R")
```
:::
:::

------------------------------------------------------------------------



## Shiny {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="60%"}
<br><br>

Shiny es un paquete de R que permite crear aplicaciones web interactivas f√°cilmente usando R (Tambi√©n disponible para python).

:::

::: {.column width="40%"}
![](images/quarto/shiny.png)
:::
:::

------------------------------------------------------------------------


## Shiny {background-image="images/background.jpg" background-opacity="0.25"}


![](https://shiny.posit.co/r/articles/improve/debugging/kmeans-showcase.gif){width="80%"}


------------------------------------------------------------------------


## Quarto & Shiny {background-image="images/background.jpg" background-opacity="0.25"}



---------------------------------------------------------------------------


## Flujo de decisi√≥n {background-image="images/background.jpg" background-opacity="0.25"}

<br>

::: incremental
-   üé§ **PowerPoint**: Presentaci√≥n sin c√≥digo de un solo uso
-   üìö **Quarto**: Charlas a partir de documentos relacionados
-   üíª **Shiny**: Dshboards Interactivos (R)
-   üé® **M√°s**: Canvas, Revealjs, Prezi
:::

------------------------------------------------------------------------

## Conclusi√≥n {background-image="images/background.jpg" background-opacity="0.25"}

<br>

::: incremental
-   **üìñ Storytelling**: Narrativas que cautivan a trav√©s de datos.\
-   **üõ†Ô∏è Herramientas**:Quarto, Shiny, webR, y m√°s.
:::

------------------------------------------------------------------------

## üéâ ¬°Gracias por Participar! {background-image="images/background.jpg" background-opacity="0.25"}

::: columns
::: {.column width="50%"}
<br>

‚ùì¬øPreguntas?

üëè Responder [encuesta](https://docs.google.com/forms/d/e/1FAIpQLScdkSSY40VsN_uEXsNK5LYP-qngUVvaO-c8qItr163zzvpzZA/viewform?usp=sf_link)

ü•≥ Gracias de Nuevo
:::

::: {.column width="50%" align="center"}
![](images/qr_visualizacion.png){width="400"}
:::
:::

> üîó Nuestro Sitio Web: [seth-nut.github.io/resources](https://seth-nut.github.io/resources/).

```{=html}
<style>
/* Ajusta el tama√±o del t√≠tulo y subt√≠tulo */
.reveal .slides h1 {
  font-size: 2em; /* Tama√±o m√°s peque√±o para el t√≠tulo */
}

.reveal .slides h2 {
  font-size: 1.5em; /* Tama√±o m√°s peque√±o para el subt√≠tulo */
}

/* Ajusta el tama√±o del texto en los p√°rrafos */
.reveal .slides p {
  font-size: 0.8em; /* Texto m√°s peque√±o */
}

/* Ajusta el tama√±o de las tablas */
.reveal .slides table {
  font-size: 0.8em; /* Tama√±o de fuente m√°s peque√±o en las tablas */
  width: 90%; /* Ajusta el ancho de la tabla */
  margin: 0 auto; /* Centra la tabla */
}

/* Ajusta el tama√±o de los bullets */
.reveal .slides ul {
  font-size: 0.8em; /* Tama√±o de fuente m√°s peque√±o en los bullets */

}

.reveal .slide-logo {
   max-height: 1em !important;
}


</style>
```